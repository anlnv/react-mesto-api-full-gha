{"ast":null,"code":"import _classCallCheck from\"C:/Users/User/dev/react-mesto-api-full-gha/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/User/dev/react-mesto-api-full-gha/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var url=_ref.url;_classCallCheck(this,Api);this._baseUrl=url;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfoFromServer\",value:function getUserInfoFromServer(){var _this=this;return fetch(this._baseUrl+'/users/me',{method:\"GET\",headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('jwt')),'Content-type':'application/json'}}).then(function(res){return _this._checkResponse(res);});}},{key:\"getInitialCards\",value:function getInitialCards(){var _this2=this;return fetch(this._baseUrl+'/cards',{method:\"GET\",headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('jwt')),'Content-type':'application/json'}}).then(function(res){return _this2._checkResponse(res);});}},{key:\"setUserInfo\",value:function setUserInfo(_ref2){var _this3=this;var name=_ref2.name,about=_ref2.about;return fetch(this._baseUrl+'/users/me',{method:'PATCH',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('jwt')),'Content-type':'application/json'},body:JSON.stringify({name:name,about:about})}).then(function(res){return _this3._checkResponse(res);});}},{key:\"addNewCard\",value:function addNewCard(_ref3){var _this4=this;var name=_ref3.name,link=_ref3.link;return fetch(this._baseUrl+'/cards',{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('jwt')),'Content-type':'application/json'},body:JSON.stringify({name:name,link:link})}).then(function(res){return _this4._checkResponse(res);});}},{key:\"deleteCard\",value:function deleteCard(id){var _this5=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('jwt')),'Content-type':'application/json'}}).then(function(res){return _this5._checkResponse(res);});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,like){var _this6=this;if(like){return fetch(this._baseUrl+'/cards/'+id+'/likes',{method:\"PUT\",headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('jwt')),'Content-type':'application/json'}}).then(function(res){return _this6._checkResponse(res);});}else{return fetch(this._baseUrl+'/cards/'+id+'/likes',{method:\"DELETE\",headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('jwt')),'Content-type':'application/json'}}).then(function(res){return _this6._checkResponse(res);});}}},{key:\"editAvatar\",value:function editAvatar(_ref4){var _this7=this;var avatar=_ref4.avatar;return fetch(this._baseUrl+'/users/me/avatar',{method:\"PATCH\",headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('jwt')),'Content-type':'application/json'},body:JSON.stringify({avatar:avatar})}).then(function(res){return _this7._checkResponse(res);});}}]);return Api;}();/*export const api = new Api({url: 'https://nomoreparties.co/v1/cohort-64', \r\n  headers: {authorization: '570bd9e5-c82e-4063-b8fe-13df3632c8f9', 'Content-Type': 'application/json'}\r\n});*/export var api=new Api({url:'http://localhost:3001'});","map":{"version":3,"names":["Api","_ref","url","_classCallCheck","_baseUrl","_createClass","key","value","_checkResponse","res","ok","json","Promise","reject","concat","status","getUserInfoFromServer","_this","fetch","method","headers","localStorage","getItem","then","getInitialCards","_this2","setUserInfo","_ref2","_this3","name","about","body","JSON","stringify","addNewCard","_ref3","_this4","link","deleteCard","id","_this5","changeLikeCardStatus","like","_this6","editAvatar","_ref4","_this7","avatar","api"],"sources":["C:/Users/User/dev/react-mesto-api-full-gha/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["class Api {\r\n    constructor({ url }) {\r\n        this._baseUrl = url;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\r\n    }\r\n\r\n    getUserInfoFromServer() {\r\n        return fetch(this._baseUrl + '/users/me', {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\r\n                'Content-type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => this._checkResponse(res))\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(this._baseUrl + '/cards', {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\r\n                'Content-type': 'application/json'\r\n            },\r\n        })\r\n            .then(res => this._checkResponse(res))\r\n    }\r\n\r\n    setUserInfo({ name, about }) {\r\n        return fetch(this._baseUrl + '/users/me', {\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name,\r\n                about\r\n            })\r\n        })\r\n            .then(res => this._checkResponse(res))\r\n    }\r\n\r\n    addNewCard({ name, link }) {\r\n        return fetch(this._baseUrl + '/cards', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name,\r\n                link\r\n            })\r\n        })\r\n            .then(res => this._checkResponse(res))\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._baseUrl}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n              'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\r\n              'Content-type': 'application/json'\r\n            },\r\n        })\r\n            .then(res => this._checkResponse(res))\r\n    }\r\n\r\n    changeLikeCardStatus(id, like) {\r\n        if (like) {\r\n            return fetch(this._baseUrl + '/cards/' + id + '/likes', {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\r\n                    'Content-type': 'application/json'\r\n                  },  \r\n            })\r\n                .then(res => this._checkResponse(res))\r\n        } else {\r\n            return fetch(this._baseUrl + '/cards/' + id + '/likes', {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\r\n                    'Content-type': 'application/json'\r\n                  },\r\n            })\r\n                .then(res => this._checkResponse(res))\r\n        }\r\n    }\r\n\r\n    editAvatar({ avatar }) {\r\n        return fetch(this._baseUrl + '/users/me/avatar', {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\r\n                'Content-type': 'application/json'\r\n              },\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n            .then(res => this._checkResponse(res))\r\n    }\r\n}\r\n\r\n/*export const api = new Api({url: 'https://nomoreparties.co/v1/cohort-64', \r\n  headers: {authorization: '570bd9e5-c82e-4063-b8fe-13df3632c8f9', 'Content-Type': 'application/json'}\r\n});*/\r\n\r\n\r\nexport const api = new Api({ url: 'http://localhost:3001' });"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}